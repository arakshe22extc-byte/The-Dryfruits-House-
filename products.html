<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Products - The DryFruits House</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
<h1>The DryFruits House</h1>
<nav>
<a href="index.html">Home</a>
<a href="products.html">Products</a>
<a href="order.html">Order</a>
</nav>
</header>

<section class="products">
<h2>Our Products</h2>

<div class="product-grid">

    <!-- Almond -->
    <div class="product-card">
        <img src="images/badam.jpg">
        <h3>Almond</h3>
        <p>₹1020 / kg</p>
        <input id="Almond" type="number" min="1" value="1">
        <button class="add" data-name="Almond" data-price="1020">Add to Cart</button>
    </div>

    <!-- Ghee -->
    <div class="product-card">
        <img src="images/ghee.jpg">
        <h3>Ghee</h3>
        <p>₹950 / liter</p>
        <input id="Ghee" type="number" min="1" value="1">
        <button class="add" data-name="Ghee" data-price="950">Add to Cart</button>
    </div>

    <!-- Black Raisins -->
    <div class="product-card">
        <img src="images/blackraisins.jpg">
        <h3>Black Raisins</h3>
        <p>₹220 / 250g</p>
        <input id="Black Raisins" type="number" min="1" value="1">
        <button class="add" data-name="Black Raisins" data-price="220">Add to Cart</button>
    </div>

    <!-- Raisins -->
    <div class="product-card">
        <img src="images/raisins.jpg">
        <h3>Raisins</h3>
        <p>₹200 / 250g</p>
        <input id="Raisins" type="number" min="1" value="1">
        <button class="add" data-name="Raisins" data-price="200">Add to Cart</button>
    </div>

    <!-- Pista -->
    <div class="product-card">
        <img src="images/pista.jpg">
        <h3>Pista</h3>
        <p>₹350 / 250g</p>
        <input id="Pista" type="number" min="1" value="1">
        <button class="add" data-name="Pista" data-price="350">Add to Cart</button>
    </div>

</div>

<div class="cart-summary">
<h3>Cart Summary</h3>
<ul id="cartList"></ul>
<p><strong>Total: ₹<span id="cartTotal">0</span></strong></p>
<a href="order.html" class="btn">Proceed to Order</a>
</div>

</section>

<script>
document.addEventListener("DOMContentLoaded", function () {

    let cart = JSON.parse(localStorage.getItem("currentCart")) || [];

    const cartList = document.getElementById("cartList");
    const cartTotal = document.getElementById("cartTotal");
    const buttons = document.querySelectorAll(".add");

    function updateCart() {
        cartList.innerHTML = "";
        let total = 0;

        cart.forEach(item => {
            let li = document.createElement("li");
            li.textContent = `${item.name} — ${item.quantity} x ₹${item.price}`;
            cartList.appendChild(li);

            total += item.quantity * item.price;
        });

        cartTotal.textContent = total;
        localStorage.setItem("currentCart", JSON.stringify(cart));
    }

    buttons.forEach(btn => {
        btn.addEventListener("click", function () {
            let name = this.dataset.name;
            let price = parseInt(this.dataset.price);
            let qty = parseInt(document.getElementById(name).value);

            let existing = cart.find(item => item.name === name);

            if (existing) {
                existing.quantity += qty;
            } else {
                cart.push({ name, price, quantity: qty });
            }

            updateCart();
            alert(name + " added!");
        });
    });

    updateCart();

});
</script>

</body>
</html>
