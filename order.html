<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Place Order</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
<h1>The DryFruits House</h1>
<nav>
<a href="index.html">Home</a>
<a href="products.html">Products</a>
<a href="order.html">Order</a>
</nav>
</header>

<section class="order-section">
<h2>Your Order</h2>

<table>
<thead>
<tr>
    <th>Product</th>
    <th>Qty</th>
    <th>Price</th>
    <th>Subtotal</th>
</tr>
</thead>
<tbody id="order-items"></tbody>
<tfoot>
<tr class="total-row">
    <td colspan="3">Total</td>
    <td id="order-total">0</td>
</tr>
</tfoot>
</table>

<form id="order-form">
<label>Name</label>
<input type="text" id="name" required>

<label>Contact Number</label>
<input type="text" id="contact" required>

<label>Address</label>
<textarea id="address" required></textarea>

<label>Payment Method</label>
<select id="payment" required>
<option value="">Select</option>
<option value="COD">Cash on Delivery</option>
<option value="UPI">UPI</option>
<option value="Card">Card</option>
</select>

<button class="btn" type="submit">Place Order</button>
</form>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {

    let cart = JSON.parse(localStorage.getItem("currentCart")) || [];

    const orderItems = document.getElementById("order-items");
    const orderTotal = document.getElementById("order-total");

    function loadOrder(){
        orderItems.innerHTML = "";
        let total = 0;

        if(cart.length === 0){
            orderItems.innerHTML = `<tr><td colspan="4">Your cart is empty!</td></tr>`;
            return;
        }

        cart.forEach(item => {
            let subtotal = item.price * item.quantity;
            total += subtotal;

            let row = `
            <tr>
                <td>${item.name}</td>
                <td>${item.quantity}</td>
                <td>${item.price}</td>
                <td>${subtotal}</td>
            </tr>
            `;

            orderItems.innerHTML += row;
        });

        orderTotal.textContent = total;
    }

    loadOrder();
});
</script>

</body>
</html>
